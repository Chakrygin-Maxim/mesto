(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const e=function(){function e(t,n,o,r,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes,this._cardId=t.id,this._ownerId=t.ownerId,this._userId=n,this._templateSelector=o,this._openPopupPhotoHandler=r,this._openPopupDeleteConfirmHandler=i,this._handleButtonLikeClick=a}var n,o;return n=e,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.cloneNode(!0)}},{key:"_setLikesCount",value:function(t){this._likes=t,this._likesCount.textContent=this._likes.length}},{key:"_isLiked",value:function(){var t=this;return this._likes.find((function(e){return e._id===t._userId}))}},{key:"_setLikeButton",value:function(){this._isLiked()?this._likeButton.classList.add("element__button-like_status_liked"):this._likeButton.classList.remove("element__button-like_status_liked")}},{key:"_handleButtonLike",value:function(t){var e=this;this._handleButtonLikeClick(t,this._cardId).then((function(t){e._setLikesCount(t.likes),e._setLikeButton()}))}},{key:"_setEventListeners",value:function(){var t=this;this._element.querySelector(".element__photo").addEventListener("click",(function(e){t._openPopupPhotoHandler(e.target)})),this._element.querySelector(".element__button-like").addEventListener("click",(function(e){t._handleButtonLike(e)})),this._element.querySelector(".element__button-trash").addEventListener("click",(function(e){t._openPopupDeleteConfirmHandler(t._cardId,e.target.parentElement)}))}},{key:"_setElements",value:function(){this._likesCount=this._element.querySelector(".element__likes"),this._likeButton=this._element.querySelector(".element__button-like"),this._elementName=this._element.querySelector(".element__info-name"),this._trashButton=this._element.querySelector(".element__button-trash")}},{key:"generateCard",value:function(){this._element=this._getTemplate(),this._setEventListeners(),this._setElements();var t=this._element.querySelector(".element__photo");return t.src=this._link,t.alt=this._name,this._elementName.textContent=this._name,this._likesCount.textContent=this._likes.length,this._setLikeButton(),this._userId===this._ownerId&&this._trashButton.classList.add("button-trash_visible"),this._element}}])&&t(n.prototype,o),e}();function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const o=function(){function t(e,n){var o=e.inputSelector,r=e.submitButtonSelector,i=e.inactiveButtonClass,a=e.inputErrorClass,u=e.errorClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=o,this._submitButtonSelector=r,this._inactiveButtonClass=i,this._inputErrorClass=a,this._errorClass=u,this._validationForm=n,this._buttonElement=this._validationForm.querySelector(this._submitButtonSelector)}var e,o;return e=t,(o=[{key:"_hasInvalidInput",value:function(t){return t.some((function(t){return!t.validity.valid}))}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass)}},{key:"_disableSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass)}},{key:"_toggleButtonState",value:function(t){this._hasInvalidInput(t)?this._disableSubmitButton():this._enableSubmitButton()}},{key:"_showInputError",value:function(t,e){var n=this._validationForm.querySelector("#".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),n.textContent=e,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._validationForm.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.classList.remove(this._errorClass),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_setEventListeners",value:function(){var t=this,e=Array.from(this._validationForm.querySelectorAll(this._inputSelector));this._toggleButtonState(e),e.forEach((function(n){n.addEventListener("input",(function(){t._checkInputValidity(n),t._toggleButtonState(e)}))})),this._validationForm.addEventListener("submit",(function(){t._disableSubmitButton()}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&n(e.prototype,o),t}();function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const i=function(){function t(e,n){var o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}}])&&r(e.prototype,n),t}();function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleButtonClose=this._handleButtonClose.bind(this),this._handleEscClose=this._handleEscClose.bind(this),this._handleCloseByClickOnOverlay=this._handleCloseByClickOnOverlay.bind(this)}var e,n;return e=t,(n=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleButtonClose",value:function(t){t.target.classList.contains("popup__button-close")&&this.close()}},{key:"_handleCloseByClickOnOverlay",value:function(t){t.target===t.currentTarget&&this.close()}},{key:"_addEventListeners",value:function(){this._popup.addEventListener("click",this._handleButtonClose),this._popup.addEventListener("mousedown",this._handleCloseByClickOnOverlay)}},{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_opened")}},{key:"setEventListeners",value:function(){this._addEventListeners()}}])&&a(e.prototype,n),t}();function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(o);if(r){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._elementImage=e._popup.querySelector(".popup__image"),e._photoCaption=e._popup.querySelector(".popup__caption"),e}return e=a,(n=[{key:"open",value:function(t){var e=t.src,n=t.alt;this._elementImage.src=e,this._elementImage.alt=n,this._photoCaption.textContent=n,l(p(a.prototype),"open",this).call(this)}}])&&c(e.prototype,n),a}(u);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?k(t):e}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(o);if(r){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return b(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._formSubmitHandler=t,n._inputList=n._popup.querySelectorAll(".popup__input"),n._popupForm=n._popup.querySelector(".popup__form"),n._handleSubmit=n._handleSubmit.bind(k(n)),n._buttonSubmit=n._popup.querySelector(".popup__button"),n}return e=a,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputValues={},this._inputList.forEach((function(e){t._inputValues[e.name]=e.value})),this._inputValues}},{key:"_handleSubmit",value:function(t){var e=this;t.preventDefault();var n=this._buttonSubmit.textContent;new Promise((function(t){e._buttonSubmit.textContent="Сохранение...",t(e._getInputValues())})).then((function(t){return e._cardId?e._formSubmitHandler(e._cardId,e._parentElement):e._formSubmitHandler(t)})).catch((function(t){console.log("Error ".concat(t))})).finally((function(t){e.close(),e._buttonSubmit.textContent=n}))}},{key:"setEventListeners",value:function(){m(S(a.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",this._handleSubmit)}},{key:"open",value:function(t,e){m(S(a.prototype),"open",this).call(this),this._cardId=t,this._parentElement=e}},{key:"close",value:function(){m(S(a.prototype),"close",this).call(this),this._popupForm.reset()}}])&&y(e.prototype,n),a}(u);function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const E=function(){function t(e){var n=e.nameSelector,o=e.jobSelector,r=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userNameSelector=n,this._userJobSelector=o,this._userAvatarSelector=r,this._userName=document.querySelector(this._userNameSelector),this._userJob=document.querySelector(this._userJobSelector),this._userAvatar=document.querySelector(this._userAvatarSelector)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,job:this._userJob.textContent,id:this._id}}},{key:"setUserInfo",value:function(t,e,n,o){this._userName.textContent=t,this._userJob.textContent=e,n&&(this._id=n),o&&(this._userAvatar.src=o,this._userAvatar.alt=t)}}])&&C(e.prototype,n),t}();function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const L=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._token=e,this._cohort=n,this._url="https://mesto.nomoreparties.co/v1/"}var e,n;return e=t,(n=[{key:"_handleResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url).concat(this._cohort,"/users/me"),{headers:{authorization:this._token,"content-type":"application/json"}}).then(this._handleResponse)}},{key:"updateUserInfo",value:function(t,e){return fetch("".concat(this._url).concat(this._cohort,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"content-type":"application/json"},body:JSON.stringify({name:t,about:e})}).then(this._handleResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url).concat(this._cohort,"/cards"),{headers:{authorization:this._token,"content-type":"application/json"}}).then(this._handleResponse)}},{key:"addCard",value:function(t,e){return fetch("".concat(this._url).concat(this._cohort,"/cards"),{method:"POST",headers:{authorization:this._token,"content-type":"application/json"},body:JSON.stringify({name:t,link:e})}).then(this._handleResponse)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url).concat(this._cohort,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._token,"content-type":"application/json"}}).then(this._handleResponse)}},{key:"setLike",value:function(t){return fetch("".concat(this._url).concat(this._cohort,"/cards/likes/").concat(t),{method:"PUT",headers:{authorization:this._token,"content-type":"application/json"}}).then(this._handleResponse)}},{key:"removeLike",value:function(t){return fetch("".concat(this._url).concat(this._cohort,"/cards/likes/").concat(t),{method:"DELETE",headers:{authorization:this._token,"content-type":"application/json"}}).then(this._handleResponse)}},{key:"updateAvatar",value:function(t){return fetch("".concat(this._url).concat(this._cohort,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"content-type":"application/json"},body:JSON.stringify({avatar:t})}).then(this._handleResponse)}}])&&w(e.prototype,n),t}();var O={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},I="#element-template",j=".elements",B=".popup_form_profile",P=document.querySelector(".profile__button-edit"),q=document.querySelector(".profile__button-add"),R=document.querySelector(".profile__image-container"),T=document.querySelector(B),A=T.querySelector(".popup__input_field_name"),x=T.querySelector(".popup__input_field_job");function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var U=new L("8a14ceb3-7392-4a44-a6bb-8080b9aa5657","cohort-17"),D="",V=function(t){J.open(t)},H=function(t,e){G.open(t,e)},z=function(t,e){return t.target.classList.contains("element__button-like_status_liked")?U.removeLike(e):U.setLike(e)},F=new E({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__image"});Promise.all([U.getUserInfo(),U.getInitialCards()]).then((function(t){var e,n,o=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],i=o[1];!function(t){var e=t.name,n=t.about,o=t.avatar,r=t._id;F.setUserInfo(e,n,r,o),D=r}(r),function(t){var e=t.map((function(t){return{name:t.name,link:t.link,likes:t.likes,id:t._id,ownerId:t.owner._id}}));Q.renderItems(e)}(i)})).catch((function(t){console.log("Ошибка: ".concat(t))}));var J=new _(".popup_form_photo");J.setEventListeners();var M=new g((function(t){return U.updateUserInfo(t.name,t.job).then((function(t){F.setUserInfo(t.name,t.about)}))}),B);M.setEventListeners();var $=new g((function(t){return U.updateAvatar(t.avatarLink).then((function(t){F.setUserInfo(t.name,t.about,t._id,t.avatar)}))}),".popup_form_avatar");$.setEventListeners();var G=new g((function(t,e){return U.deleteCard(t).then((function(t){return e.remove(),t}))}),".popup_form_confirm");G.setEventListeners();var K=new g((function(t){return U.addCard(t.cardName,t.link).then((function(t){var n=new e({name:t.name,link:t.link,likes:t.likes,id:t._id,ownerId:t.owner._id},D,I,V,H,z).generateCard();Q.addItem(n)}))}),".popup_form_mesto");K.setEventListeners();var Q=new i({renderer:function(t){var n=new e(t,D,I,V,H,z).generateCard();document.querySelector(j).append(n)}},j);P.addEventListener("click",(function(){var t=F.getUserInfo();A.value=t.name,x.value=t.job,M.open()})),q.addEventListener("click",(function(){K.open()})),R.addEventListener("click",(function(){$.open()})),new o(O,document.forms.formProfile).enableValidation(),new o(O,document.forms.formNewCard).enableValidation(),new o(O,document.forms.formAvatar).enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIml0ZW0iLCJ1c2VySWQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwib3BlblBvcHVwUGhvdG9IYW5kbGVyIiwib3BlblBvcHVwRGVsZXRlQ29uZmlybUhhbmRsZXIiLCJoYW5kbGVCdXR0b25MaWtlQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiaWQiLCJfb3duZXJJZCIsIm93bmVySWQiLCJfdXNlcklkIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfb3BlblBvcHVwUGhvdG9IYW5kbGVyIiwiX29wZW5Qb3B1cERlbGV0ZUNvbmZpcm1IYW5kbGVyIiwiX2hhbmRsZUJ1dHRvbkxpa2VDbGljayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfbGlrZXNDb3VudCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiZmluZCIsImxpa2UiLCJfaWQiLCJfaXNMaWtlZCIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiZXZ0IiwidGhlbiIsImRhdGEiLCJfc2V0TGlrZXNDb3VudCIsIl9zZXRMaWtlQnV0dG9uIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiX2hhbmRsZUJ1dHRvbkxpa2UiLCJwYXJlbnRFbGVtZW50IiwiX2VsZW1lbnROYW1lIiwiX3RyYXNoQnV0dG9uIiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX3NldEVsZW1lbnRzIiwiY2FyZFBob3RvIiwic3JjIiwiYWx0IiwidmFsaWRhdGlvbkZvcm0iLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfdmFsaWRhdGlvbkZvcm0iLCJfYnV0dG9uRWxlbWVudCIsImlucHV0TGlzdCIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlU3VibWl0QnV0dG9uIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsImNhcmRzIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVCdXR0b25DbG9zZSIsImJpbmQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlQ2xvc2VCeUNsaWNrT25PdmVybGF5Iiwia2V5IiwiY2xvc2UiLCJjb250YWlucyIsImN1cnJlbnRUYXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiX2VsZW1lbnRJbWFnZSIsIl9waG90b0NhcHRpb24iLCJQb3B1cCIsImZvcm1TdWJtaXRIYW5kbGVyIiwiX2Zvcm1TdWJtaXRIYW5kbGVyIiwiX2lucHV0TGlzdCIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlU3VibWl0IiwiX2J1dHRvblN1Ym1pdCIsIl9pbnB1dFZhbHVlcyIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJidXR0b25TdWJtaXROYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsIl9wYXJlbnRFbGVtZW50IiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNhcmRJZCIsInJlc2V0IiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZVNlbGVjdG9yIiwiX3VzZXJKb2JTZWxlY3RvciIsIl91c2VyQXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsIl91c2VyQXZhdGFyIiwiam9iIiwidXNlck5hbWUiLCJ1c2VySm9iIiwidXNlckF2YXRhciIsInRva2VuIiwiY29ob3J0IiwiX3Rva2VuIiwiX2NvaG9ydCIsIl91cmwiLCJyZXMiLCJvayIsImpzb24iLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwiX2hhbmRsZVJlc3BvbnNlIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhciIsInZhbGlkYXRpb25JdGVtcyIsImZvcm1TZWxlY3RvciIsImNhcmRUZW1wbGF0ZSIsImNhcmRMaXN0U2VsZWN0b3IiLCJmb3JtUHJvZmlsZVNlbGVjdG9yIiwiZWRpdEJ1dHRvbiIsImFkZENhcmRCdXR0b24iLCJlZGl0QXZhdGFyQnV0dG9uIiwicG9wdXBQcm9maWxlIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJhcGkiLCJBcGkiLCJoYW5kbGVDYXJkQ2xpY2siLCJlbGVtZW50UGhvdG8iLCJwb3B1cFdpdGhJbWFnZSIsIm9wZW4iLCJoYW5kbGVDYXJkQ2xpY2tUcmFzaCIsInBvcHVwRGVsZXRlQ29uZmlybSIsInJlbW92ZUxpa2UiLCJzZXRMaWtlIiwidXNlckluZm8iLCJVc2VySW5mbyIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwidXNlckRhdGEiLCJpbml0aWFsQ2FyZHMiLCJzZXRVc2VySW5mbyIsIml0ZW1zIiwibWFwIiwiY2FyZCIsIm93bmVyIiwiY2FyZExpc3QiLCJyZW5kZXJJdGVtcyIsInNldEluaXRpYWxDYWRzIiwiUG9wdXBXaXRoSW1hZ2UiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwRWRpdFByb2ZpbGUiLCJQb3B1cFdpdGhGb3JtIiwidXBkYXRlVXNlckluZm8iLCJwb3B1cEVkaXRBdmF0YXIiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXJMaW5rIiwiZGVsZXRlQ2FyZCIsInBvcHVwTmV3Q2FyZCIsImFkZENhcmQiLCJjYXJkTmFtZSIsImNhcmRFbGVtZW50IiwiQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW0iLCJTZWN0aW9uIiwiY2FyZEl0ZW0iLCJhcHBlbmQiLCJwcm9maWxlRGF0YSIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtcyIsImZvcm1Qcm9maWxlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1OZXdDYXJkIiwiZm9ybUF2YXRhciJdLCJtYXBwaW5ncyI6InlMQXNHQSxRLFdBckdFLFdBQ0VBLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEksNEZBQ0EsU0FDQUMsS0FB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TUMsYUFFQ0MsbUJBR1EsSUFBSUgsRUFDNUJ4RCxFQUNBNUksU0FBU3FNLE1BQU1HLGFBRUNELG1CQUdPLElBQUlILEVBQzNCeEQsRUFDQTVJLFNBQVNxTSxNQUFNSSxZQUVBRixvQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpdGVtLFxyXG4gICAgdXNlcklkLFxyXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcclxuICAgIG9wZW5Qb3B1cFBob3RvSGFuZGxlcixcclxuICAgIG9wZW5Qb3B1cERlbGV0ZUNvbmZpcm1IYW5kbGVyLFxyXG4gICAgaGFuZGxlQnV0dG9uTGlrZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gaXRlbS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGl0ZW0ubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gaXRlbS5saWtlcztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGl0ZW0uaWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gaXRlbS5vd25lcklkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9vcGVuUG9wdXBQaG90b0hhbmRsZXIgPSBvcGVuUG9wdXBQaG90b0hhbmRsZXI7XHJcbiAgICB0aGlzLl9vcGVuUG9wdXBEZWxldGVDb25maXJtSGFuZGxlciA9IG9wZW5Qb3B1cERlbGV0ZUNvbmZpcm1IYW5kbGVyO1xyXG4gICAgdGhpcy5faGFuZGxlQnV0dG9uTGlrZUNsaWNrID0gaGFuZGxlQnV0dG9uTGlrZUNsaWNrO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcclxuICB9XHJcblxyXG4gIF9zZXRMaWtlc0NvdW50KGxpa2VzKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIF9pc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLmZpbmQoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcbiAgX3NldExpa2VCdXR0b24oKSB7XHJcbiAgICBpZiAodGhpcy5faXNMaWtlZCgpKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2J1dHRvbi1saWtlX3N0YXR1c19saWtlZFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2J1dHRvbi1saWtlX3N0YXR1c19saWtlZFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVCdXR0b25MaWtlKGV2dCkge1xyXG4gICAgdGhpcy5faGFuZGxlQnV0dG9uTGlrZUNsaWNrKGV2dCwgdGhpcy5fY2FyZElkKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHRoaXMuX3NldExpa2VzQ291bnQoZGF0YS5saWtlcyk7XHJcbiAgICAgIHRoaXMuX3NldExpa2VCdXR0b24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19waG90b1wiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICB0aGlzLl9vcGVuUG9wdXBQaG90b0hhbmRsZXIoZXZ0LnRhcmdldCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uLWxpa2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQnV0dG9uTGlrZShldnQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvbi10cmFzaFwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICB0aGlzLl9vcGVuUG9wdXBEZWxldGVDb25maXJtSGFuZGxlcihcclxuICAgICAgICAgIHRoaXMuX2NhcmRJZCxcclxuICAgICAgICAgIGV2dC50YXJnZXQucGFyZW50RWxlbWVudFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NldEVsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlc1wiKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uLWxpa2VcIik7XHJcbiAgICB0aGlzLl9lbGVtZW50TmFtZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbmZvLW5hbWVcIik7XHJcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24tdHJhc2hcIik7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9zZXRFbGVtZW50cygpO1xyXG5cclxuICAgIGNvbnN0IGNhcmRQaG90byA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19waG90b1wiKTtcclxuICAgIGNhcmRQaG90by5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgY2FyZFBob3RvLmFsdCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX3NldExpa2VCdXR0b24oKTtcclxuXHJcbiAgICBpZiAodGhpcy5fdXNlcklkID09PSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tdHJhc2hfdmlzaWJsZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAge1xyXG4gICAgICBpbnB1dFNlbGVjdG9yLFxyXG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3RvcixcclxuICAgICAgaW5hY3RpdmVCdXR0b25DbGFzcyxcclxuICAgICAgaW5wdXRFcnJvckNsYXNzLFxyXG4gICAgICBlcnJvckNsYXNzLFxyXG4gICAgfSxcclxuICAgIHZhbGlkYXRpb25Gb3JtXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBlcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fdmFsaWRhdGlvbkZvcm0gPSB2YWxpZGF0aW9uRm9ybTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl92YWxpZGF0aW9uRm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRh9GC0L4g0YXQvtGC0Y/QsdGLINC+0LTQvdC+INCy0L7Qu9C1INC90LUg0LLQsNC70LjQtNC90L5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINCS0LrQu9GO0YfQsNC10YIg0LrQvdC+0L/QutGDIHN1Ym1pdFxyXG4gIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvLyDQntGC0LrQu9GO0LDQtdGCINC60L3QvtC/0LrRgyBzdWJtaXRcclxuICBfZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9XHJcblxyXG4gIC8vINCf0LXRgNC10LrQu9GO0YfQsNC10Lwg0LTQvtGB0YLRg9C/0L3QvtGB0YLRjCDQutC90L7Qv9C60Lggc3VibWl0XHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0J7RgtC+0LHRgNCw0LbQsNC10Lwg0L/QvtC70Y8g0YEg0L7RiNC40LHQutCw0LzQuFxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fdmFsaWRhdGlvbkZvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8g0KHQutGA0YvQstCw0LXQvCDQv9C+0LvRjyDRgSDQvtGI0LjQsdC60LDQvNC4XHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fdmFsaWRhdGlvbkZvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIC8vINCf0YDQvtCy0LXRgNGP0Lwg0YTQvtGA0LzRgyDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMINC/0L7Qu9C10LlcclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCj0YHRgtCw0L3QvtCy0LrQsCDRgdC70YPRiNCw0YLQtdC70LXQuSDRgyDQv9C+0LvQtdC5INCy0LLQvtC00LBcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl92YWxpZGF0aW9uRm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCk7XHJcblxyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCf0L7RgdC70LUg0YHQsNCx0LzQuNGC0LAg0L7RgtC60Y7Rh9Cw0LXQvCDQutC90L7Qv9C60YMuINCt0YLQviDQvdGD0LbQvdC+INC/0L7RgdC70LUg0LTQvtCx0LDQstC70LXQvdC40LUg0L3QvtCy0L7QuSDQutCw0YLQvtGH0LrQuC5cclxuICAgIHRoaXMuX3ZhbGlkYXRpb25Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINCS0LrQu9GO0YfQsNC10Lwg0LLQsNC70LjQtNCw0YbQuNGOINGE0L7RgNC80YtcclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhjYXJkcykge1xyXG4gICAgY2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xyXG4iLCJjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlQnV0dG9uQ2xvc2UgPSB0aGlzLl9oYW5kbGVCdXR0b25DbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5faGFuZGxlQ2xvc2VCeUNsaWNrT25PdmVybGF5ID0gdGhpcy5faGFuZGxlQ2xvc2VCeUNsaWNrT25PdmVybGF5LmJpbmQoXHJcbiAgICAgIHRoaXNcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQnV0dG9uQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fYnV0dG9uLWNsb3NlXCIpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVDbG9zZUJ5Q2xpY2tPbk92ZXJsYXkoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUJ1dHRvbkNsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwibW91c2Vkb3duXCIsXHJcbiAgICAgIHRoaXMuX2hhbmRsZUNsb3NlQnlDbGlja09uT3ZlcmxheVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fcGhvdG9DYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oeyBzcmMsIGFsdCB9KSB7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2Uuc3JjID0gc3JjO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IGFsdDtcclxuICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi50ZXh0Q29udGVudCA9IGFsdDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtU3VibWl0SGFuZGxlciwgcG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtU3VibWl0SGFuZGxlciA9IGZvcm1TdWJtaXRIYW5kbGVyO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gdGhpcy5faGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9idXR0b25TdWJtaXQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5faW5wdXRWYWx1ZXNbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlU3VibWl0KGV2dCkge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyDQodC+0YXRgNCw0L3Rj9C10Lwg0L/RgNC10LTRi9C00YPRidC10LUg0L3QsNC30LLQsNC90LjQtSDQutC90L7Qv9C60Lgg0YHQsNCx0LzQuNGCXHJcbiAgICBjb25zdCBidXR0b25TdWJtaXROYW1lID0gdGhpcy5fYnV0dG9uU3VibWl0LnRleHRDb250ZW50O1xyXG5cclxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcclxuICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICByZXNvbHZlKGlucHV0VmFsdWVzKTtcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgLy8g0KHRgtCw0LLQuNC8INCyINC+0YfQtdGA0LXQtNGMINC/0YDQvtC80LjRgSBBcGkg0Lgg0LbQtNC10Lwg0LXQs9C+INCy0YvQv9C+0LvQvdC10L3QuNGPXHJcbiAgICAgICAgLy8g0LTQu9GPINCy0L7Qt9Cy0YDQsNGJ0LXQvdC40Y8g0LrQvdC+0L/QutC4INGB0LDQsdC80LjRgiDQuiDQv9C10YDQstC+0L3QsNGH0LDQu9C90L7QvNGDINCy0LjQtNGDXHJcbiAgICAgICAgaWYgKHRoaXMuX2NhcmRJZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyKHRoaXMuX2NhcmRJZCwgdGhpcy5fcGFyZW50RWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLl9mb3JtU3VibWl0SGFuZGxlcihpbnB1dFZhbHVlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciAke2Vycn1gKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKGRhdGEpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uU3VibWl0LnRleHRDb250ZW50ID0gYnV0dG9uU3VibWl0TmFtZTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBvcGVuKGNhcmRJZCwgcGFyZW50RWxlbWVudCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fY2FyZElkID0gY2FyZElkO1xyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcclxuIiwiY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWVTZWxlY3RvciA9IG5hbWVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3VzZXJKb2JTZWxlY3RvciA9IGpvYlNlbGVjdG9yO1xyXG4gICAgdGhpcy5fdXNlckF2YXRhclNlbGVjdG9yID0gYXZhdGFyU2VsZWN0b3I7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl91c2VySm9iU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdXNlckF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCxcclxuICAgICAgaWQ6IHRoaXMuX2lkLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHVzZXJOYW1lLCB1c2VySm9iLCBpZCwgdXNlckF2YXRhcikge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSB1c2VySm9iO1xyXG5cclxuICAgIGlmIChpZCkge1xyXG4gICAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh1c2VyQXZhdGFyKSB7XHJcbiAgICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gdXNlckF2YXRhcjtcclxuICAgICAgdGhpcy5fdXNlckF2YXRhci5hbHQgPSB1c2VyTmFtZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IodG9rZW4sIGNvaG9ydCkge1xyXG4gICAgdGhpcy5fdG9rZW4gPSB0b2tlbjtcclxuICAgIHRoaXMuX2NvaG9ydCA9IGNvaG9ydDtcclxuICAgIHRoaXMuX3VybCA9IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL1wiO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVJlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfSR7dGhpcy5fY29ob3J0fS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke3RoaXMuX2NvaG9ydH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgYWJvdXQgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9JHt0aGlzLl9jb2hvcnR9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke3RoaXMuX2NvaG9ydH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke3RoaXMuX2NvaG9ydH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0TGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9JHt0aGlzLl9jb2hvcnR9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfSR7dGhpcy5fY29ob3J0fS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfSR7dGhpcy5fY29ob3J0fS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcGk7XHJcbiIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uSXRlbXMgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID0gJyNlbGVtZW50LXRlbXBsYXRlJztcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0U2VsZWN0b3IgPSAnLmVsZW1lbnRzJztcclxuZXhwb3J0IGNvbnN0IGZvcm1Qcm9maWxlU2VsZWN0b3IgPSAnLnBvcHVwX2Zvcm1fcHJvZmlsZSc7XHJcbmV4cG9ydCBjb25zdCBmb3JtUHJvZmlsZUF2YXRhciA9ICcucG9wdXBfZm9ybV9hdmF0YXInO1xyXG5leHBvcnQgY29uc3QgZm9ybU1lc3RvU2VsZWN0b3IgPSAnLnBvcHVwX2Zvcm1fbWVzdG8nO1xyXG5leHBvcnQgY29uc3QgZm9ybVBob3RvU2VsZWN0b3IgPSAnLnBvcHVwX2Zvcm1fcGhvdG8nO1xyXG5leHBvcnQgY29uc3QgZm9ybURlbGV0ZUNvbmZpcm1TZWxlY3RvciA9ICcucG9wdXBfZm9ybV9jb25maXJtJzsgXHJcbmV4cG9ydCBjb25zdCBuYW1lU2VsZWN0b3IgPSAnLnByb2ZpbGVfX25hbWUnO1xyXG5leHBvcnQgY29uc3Qgam9iU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2pvYic7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJTZWxlY3RvciA9ICcucHJvZmlsZV9faW1hZ2UnO1xyXG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tYWRkJyk7XHJcbmV4cG9ydCBjb25zdCBlZGl0QXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlLWNvbnRhaW5lcicpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uTGlrZUNsYXNzID0gJ2VsZW1lbnRfX2J1dHRvbi1saWtlX3N0YXR1c19saWtlZCc7XHJcbmV4cG9ydCBjb25zdCB0b2tlbiA9ICc4YTE0Y2ViMy03MzkyLTRhNDQtYTZiYi04MDgwYjlhYTU2NTcnO1xyXG5leHBvcnQgY29uc3QgY29ob3J0ID0gJ2NvaG9ydC0xNyc7XHJcblxyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1Qcm9maWxlU2VsZWN0b3IpO1xyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZmllbGRfbmFtZScpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9maWVsZF9qb2InKTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgdmFsaWRhdGlvbkl0ZW1zLFxyXG4gIGNhcmRUZW1wbGF0ZSxcclxuICBjYXJkTGlzdFNlbGVjdG9yLFxyXG4gIGZvcm1Qcm9maWxlU2VsZWN0b3IsXHJcbiAgZm9ybVByb2ZpbGVBdmF0YXIsXHJcbiAgZm9ybU1lc3RvU2VsZWN0b3IsXHJcbiAgZm9ybVBob3RvU2VsZWN0b3IsXHJcbiAgZm9ybURlbGV0ZUNvbmZpcm1TZWxlY3RvcixcclxuICBuYW1lU2VsZWN0b3IsXHJcbiAgam9iU2VsZWN0b3IsXHJcbiAgYXZhdGFyU2VsZWN0b3IsXHJcbiAgZWRpdEJ1dHRvbixcclxuICBhZGRDYXJkQnV0dG9uLFxyXG4gIGVkaXRBdmF0YXJCdXR0b24sXHJcbiAgYnV0dG9uTGlrZUNsYXNzLFxyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICBjb2hvcnQsXHJcbiAgdG9rZW4sXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8gQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkodG9rZW4sIGNvaG9ydCk7XHJcblxyXG4vLyDQn9C10YDQtdC80LXQvdC90LDRjyDQtNC70Y8g0YXRgNCw0L3QtdC90LjRjyBJRCB1c2VyYSDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDQutC90L7Qv9C60Lgg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmxldCB1c2VySWQgPSBcIlwiO1xyXG5cclxuLy8g0JrQvtC70LHRjdC6INGD0YHRgtCw0L3QvtCy0LrQuCDQvdC+0LLQvtCz0L4g0LjQvNC10L3QuCDQuCDQtNC+0LvQttC90L7RgdGC0Lgg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgaGFuZGxlUG9wdXBQcm9maWxlU3VibWl0ID0gKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgcmV0dXJuIGFwaS51cGRhdGVVc2VySW5mbyhpbnB1dFZhbHVlcy5uYW1lLCBpbnB1dFZhbHVlcy5qb2IpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyDQmtC+0LvQsdGN0Log0YHQvtGF0YDQsNC90LXQvdC40LUg0L3QvtCy0L7Qs9C+INCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5jb25zdCBoYW5kbGVQb3B1cEF2YXRhckVkaXQgPSAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICByZXR1cm4gYXBpLnVwZGF0ZUF2YXRhcihpbnB1dFZhbHVlcy5hdmF0YXJMaW5rKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQsIGRhdGEuX2lkLCBkYXRhLmF2YXRhcik7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyDQmtC+0LvQsdGN0Log0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGhhbmRsZUNhcmREZWxldGUgPSAoY2FyZElkLCBwYXJlbnRFbGVtZW50KSA9PiB7XHJcbiAgcmV0dXJuIGFwaS5kZWxldGVDYXJkKGNhcmRJZCkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgcGFyZW50RWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8g0JrQvtC70LHRjdC6INC+0YLQutGA0YvRgtC40Y8g0LrQsNGA0YLQvtGH0LrQuCDQvNC10YHRgtCwINC/0L4g0LrQu9C40LrRgyDQvdCwINC90LXQtVxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoZWxlbWVudFBob3RvKSA9PiB7XHJcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihlbGVtZW50UGhvdG8pO1xyXG59O1xyXG5cclxuLy8g0JrQvtC70LHRjdC6INC+0YLQutGA0YvRgtC40Y8g0YTQvtGA0LzRiyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPINGB0L7QsdGB0YLQstC10L3QvdC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2tUcmFzaCA9IChjYXJkSWQsIHBhcmVudEVsZW1lbnQpID0+IHtcclxuICBwb3B1cERlbGV0ZUNvbmZpcm0ub3BlbihjYXJkSWQsIHBhcmVudEVsZW1lbnQpO1xyXG59O1xyXG5cclxuLy8g0JrQvtC70LHRjdC6INC90LDQttCw0YLQuNGPINC90LAg0LrQvdC+0L/QutGDINC70LDQudC6XHJcbmNvbnN0IGhhbmRsZUJ1dHRvbkxpa2VDbGljayA9IChldnQsIGNhcmRJZCkgPT4ge1xyXG4gIGNvbnN0IGV2ZW50VGFyZ2V0ID0gZXZ0LnRhcmdldDtcclxuICBpZiAoZXZlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGJ1dHRvbkxpa2VDbGFzcykpIHtcclxuICAgIHJldHVybiBhcGkucmVtb3ZlTGlrZShjYXJkSWQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gYXBpLnNldExpa2UoY2FyZElkKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyDQmtC+0LvQsdGN0Log0LTQvtCx0LDQstC70Y/QtdGCINC90L7QstGD0Y4g0LrQsNGA0YLQvtGH0LrRgyDQvdCwINGE0L7RgNC80YNcclxuY29uc3QgaGFuZGxlUG9wdXBNZXN0b1N1Ym1pdCA9IChpbnB1dFZhbHVlcykgPT4ge1xyXG4gIHJldHVybiBhcGkuYWRkQ2FyZChpbnB1dFZhbHVlcy5jYXJkTmFtZSwgaW5wdXRWYWx1ZXMubGluaykudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcclxuICAgICAgICBsaWtlczogZGF0YS5saWtlcyxcclxuICAgICAgICBpZDogZGF0YS5faWQsXHJcbiAgICAgICAgb3duZXJJZDogZGF0YS5vd25lci5faWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgY2FyZFRlbXBsYXRlLFxyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICAgIGhhbmRsZUNhcmRDbGlja1RyYXNoLFxyXG4gICAgICBoYW5kbGVCdXR0b25MaWtlQ2xpY2tcclxuICAgICk7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vINCa0LDRgNGC0L7Rh9C60LAg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KTtcclxuXHJcbi8vINCf0LXRgNCy0L7QvdCw0YfQsNC70YzQvdC+0LUg0LfQsNC/0L7Qu9C90LXQvdC40LUg0L/RgNC+0YTQuNC70Y9cclxuY29uc3Qgc2V0VXNlckluZm8gPSAodXNlckRhdGEpID0+IHtcclxuICBjb25zdCB7IG5hbWUsIGFib3V0LCBhdmF0YXIsIF9pZCB9ID0gdXNlckRhdGE7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8obmFtZSwgYWJvdXQsIF9pZCwgYXZhdGFyKTtcclxuICB1c2VySWQgPSBfaWQ7XHJcbn07XHJcblxyXG4vLyDQn9C10YDQstC+0L3QsNGH0LDQu9GM0L3QvtC1INC30LDQv9C+0LvQvdC10L3QuNC1INC60LDRgNGC0L7Rh9C10LpcclxuY29uc3Qgc2V0SW5pdGlhbENhZHMgPSAoaW5pdGlhbENhcmRzKSA9PiB7XHJcbiAgY29uc3QgaXRlbXMgPSBpbml0aWFsQ2FyZHMubWFwKChjYXJkKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiBjYXJkLm5hbWUsXHJcbiAgICAgIGxpbms6IGNhcmQubGluayxcclxuICAgICAgbGlrZXM6IGNhcmQubGlrZXMsXHJcbiAgICAgIGlkOiBjYXJkLl9pZCxcclxuICAgICAgb3duZXJJZDogY2FyZC5vd25lci5faWQsXHJcbiAgICB9O1xyXG4gIH0pO1xyXG4gIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGl0ZW1zKTtcclxufTtcclxuXHJcbi8vINCh0LjQvdGF0YDQvtC90L3QvtC1INC/0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC/0LXRgNCy0L7QvdCw0YfQsNC70YzQvdGL0YUg0LrQsNGA0YLQvtGH0LXQulxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgaW5pdGlhbENhcmRzXSkgPT4ge1xyXG4gICAgc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgc2V0SW5pdGlhbENhZHMoaW5pdGlhbENhcmRzKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICB9KTtcclxuXHJcbi8vINCf0L7Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5XHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKGZvcm1QaG90b1NlbGVjdG9yKTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCf0L7Qv9Cw0L8g0LjQt9C80LXQvdC10L3QuNC1INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBoYW5kbGVQb3B1cFByb2ZpbGVTdWJtaXQsXHJcbiAgZm9ybVByb2ZpbGVTZWxlY3RvclxyXG4pO1xyXG5wb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyDQn9C+0L/QsNC/INC40LfQvNC10L3QtdC90LjQtSDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBoYW5kbGVQb3B1cEF2YXRhckVkaXQsXHJcbiAgZm9ybVByb2ZpbGVBdmF0YXJcclxuKTtcclxucG9wdXBFZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyDQn9C+0L/QsNC/INC/0L7QtNCy0LXRgNC20LTQtdC90LjQtSDRg9C00LDQu9C10L3QuNGPXHJcbmNvbnN0IHBvcHVwRGVsZXRlQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIGhhbmRsZUNhcmREZWxldGUsXHJcbiAgZm9ybURlbGV0ZUNvbmZpcm1TZWxlY3RvclxyXG4pO1xyXG5wb3B1cERlbGV0ZUNvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCf0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBwb3B1cE5ld0NhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBoYW5kbGVQb3B1cE1lc3RvU3VibWl0LFxyXG4gIGZvcm1NZXN0b1NlbGVjdG9yXHJcbik7XHJcbnBvcHVwTmV3Q2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8g0KHQvtC30LTQsNC10Lwg0YHQtdC60YbQuNGOINGBINC60LDRgNGC0L7Rh9C60LDQvNC4XHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IChjYXJkSXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXHJcbiAgICAgICAgY2FyZEl0ZW0sXHJcbiAgICAgICAgdXNlcklkLFxyXG4gICAgICAgIGNhcmRUZW1wbGF0ZSxcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrVHJhc2gsXHJcbiAgICAgICAgaGFuZGxlQnV0dG9uTGlrZUNsaWNrXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXJkTGlzdFNlbGVjdG9yKTtcclxuICAgICAgY2FyZEVsZW1lbnRzLmFwcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgY2FyZExpc3RTZWxlY3RvclxyXG4pO1xyXG5cclxuLy8g0J7RgtC60YDRi9Cy0LDQtdGCINGE0L7RgNC80YMg0LjQt9C80LXQvdC10L3QuNGPINC00LDQvdC90YvRhSDQv9GA0L7RhNC40LvRj1xyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgcHJvZmlsZURhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG5cclxuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlRGF0YS5uYW1lO1xyXG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZURhdGEuam9iO1xyXG5cclxuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyDQntGC0LrRgNGL0LLQsNC10YIg0YTQvtGA0LzRgyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwTmV3Q2FyZC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8g0J7RgtC60YDRi9Cy0LDQtdGCINGE0L7RgNC80YMg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5lZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBFZGl0QXZhdGFyLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyDQktC60LvRjtGH0LDQtdGCINCy0LDQu9C40LTQsNGG0LjRjiDRhNC+0YDQvNGLINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvbkl0ZW1zLFxyXG4gIGRvY3VtZW50LmZvcm1zLmZvcm1Qcm9maWxlXHJcbik7XHJcbnByb2ZpbGVWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vINCS0LrQu9GO0YfQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOINGE0L7RgNC80Ysg0LLQstC+0LTQsCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgbmV3Q2FyZFZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uSXRlbXMsXHJcbiAgZG9jdW1lbnQuZm9ybXMuZm9ybU5ld0NhcmRcclxuKTtcclxubmV3Q2FyZFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8g0JLQutC70Y7Rh9Cw0LXRgiDQstCw0LvQuNC00LDRhtC40Y4g0YTQvtGA0LzRiyDQstCy0L7QtNCwINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBhdmF0YXJWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvbkl0ZW1zLFxyXG4gIGRvY3VtZW50LmZvcm1zLmZvcm1BdmF0YXJcclxuKTtcclxuYXZhdGFyVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=